<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FastGraph Example</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 40px;
        }
        
        .examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .example {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .example h3 {
            margin: 0 0 15px 0;
            color: #444;
        }
        
        .example p {
            margin: 0 0 15px 0;
            color: #666;
            font-size: 14px;
        }
        
        .controls {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .color-picker {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }
        
        .color-picker label {
            min-width: 80px;
            font-weight: 500;
        }
        
        .color-picker input[type="color"] {
            width: 50px;
            height: 30px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .error {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>FastGraph - React WebGPU Component Library</h1>
        
        <div class="controls">
            <h3>Interactive Demo</h3>
            <div class="color-picker">
                <label for="color1">Color 1:</label>
                <input type="color" id="color1" value="#ff0000">
                <span id="color1-hex">#ff0000</span>
            </div>
            <div class="color-picker">
                <label for="color2">Color 2:</label>
                <input type="color" id="color2" value="#0000ff">
                <span id="color2-hex">#0000ff</span>
            </div>
            <div id="interactive-demo"></div>
        </div>
        
        <div class="examples">
            <div class="example">
                <h3>Red to Blue</h3>
                <p>Classic red to blue gradient with smooth animation</p>
                <div id="example1"></div>
            </div>
            
            <div class="example">
                <h3>Purple to Cyan</h3>
                <p>Vibrant purple to cyan transition</p>
                <div id="example2"></div>
            </div>
            
            <div class="example">
                <h3>Orange to Pink</h3>
                <p>Warm sunset colors</p>
                <div id="example3"></div>
            </div>
            
            <div class="example">
                <h3>Green to Yellow</h3>
                <p>Nature-inspired gradient</p>
                <div id="example4"></div>
            </div>
        </div>
    </div>

    <!-- React and ReactDOM from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Our FastGraph library -->
    <script type="module">
        // Import our library
        import { FastGraph } from '../dist/index.esm.js';
        
        // Make it globally available
        window.FastGraph = FastGraph;
        
        // Render examples after library is loaded
        window.renderExamples();
    </script>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Interactive demo component
        function InteractiveDemo() {
            const [color1, setColor1] = useState('#ff0000');
            const [color2, setColor2] = useState('#0000ff');
            
            // Listen to color picker changes
            useEffect(() => {
                const color1Input = document.getElementById('color1');
                const color2Input = document.getElementById('color2');
                
                const handleColor1Change = (e) => setColor1(e.target.value);
                const handleColor2Change = (e) => setColor2(e.target.value);
                
                color1Input.addEventListener('input', handleColor1Change);
                color2Input.addEventListener('input', handleColor2Change);
                
                return () => {
                    color1Input.removeEventListener('input', handleColor1Change);
                    color2Input.removeEventListener('input', handleColor2Change);
                };
            }, []);
            
            return (
                <FastGraph 
                    color1={color1} 
                    color2={color2} 
                    width={400} 
                    height={200}
                    style={{ marginTop: '15px' }}
                />
            );
        }
        
        // Function to render all examples
        window.renderExamples = function() {
            try {
                // Render static examples
                ReactDOM.render(
                    <FastGraph color1="#ff0000" color2="#0000ff" width={300} height={150} />,
                    document.getElementById('example1')
                );
                
                ReactDOM.render(
                    <FastGraph color1="#8b00ff" color2="#00ffff" width={300} height={150} />,
                    document.getElementById('example2')
                );
                
                ReactDOM.render(
                    <FastGraph color1="#ff8c00" color2="#ff1493" width={300} height={150} />,
                    document.getElementById('example3')
                );
                
                ReactDOM.render(
                    <FastGraph color1="#32cd32" color2="#ffff00" width={300} height={150} />,
                    document.getElementById('example4')
                );
                
                // Render interactive demo
                ReactDOM.render(
                    <InteractiveDemo />,
                    document.getElementById('interactive-demo')
                );
                
            } catch (error) {
                console.error('Error rendering examples:', error);
                document.body.innerHTML += `
                    <div class="error">
                        <strong>Error loading FastGraph:</strong> ${error.message}
                        <br><br>
                        Make sure you have built the library by running: <code>./build.sh</code>
                    </div>
                `;
            }
        };
        
        // Color picker handlers
        document.getElementById('color1').addEventListener('input', (e) => {
            document.getElementById('color1-hex').textContent = e.target.value;
        });
        
        document.getElementById('color2').addEventListener('input', (e) => {
            document.getElementById('color2-hex').textContent = e.target.value;
        });
    </script>
</body>
</html>